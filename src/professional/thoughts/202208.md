# Thoughts of Aug. 2022

**20220802**

* 嘉澍在周二的A0测试评审总结会议上又很重地强调了"有计划就要执行计划, 没完成计划可以延期, 不要召集不成熟的会议"的观点. 背景是一些模电测试项目, 模电认为数电做, 数电认为不用做. 二月份还在Pro 系统组评审会议上的时候, 嘉澍就已经很频繁地强调这一点; 要求所有计划可追踪, 等等.

**20220804**

* 整个Andes项目现在处于准失控状态. 项目节点上仍然维持着一个不可能达成的时间表, M0验证从我5月进入开始, 到今天完成度不足10%, 而相应的deadline只是从8月15日延后到8月19日, tapeout 日期维持十月中旬不变. 似乎, 谁提出一个新的时间表, 谁就要承受不知来自于何处的怒火, 并且为新的可能达成的时间表负责; 而只要不提出新的时间表, 就没有人需要为一个不可能达成的时间表负责?
    * 参考李想2022演讲: 业务架构要把目标转化为可以管理经验的东西...一个糟糕的业务架构必然导致没人负责

* 产品研发过程中, 好的做法形成资产, 坏的做法形成负债, 一进一出差距非常大. 组织资产, 认知资产, 技术资产. 组织负债, 认知负债, 技术负债.

* Andes上有一系列的设计开发缺陷. 代码质量问题这里不展开了, RD CFAR问题: 滑窗非滑窗兼容+分区+分角度+独立CMB, 一系列组合构成的超级复杂度是非常不必要的. CMB拆分时, I/O数据格式不统一的错误到今天才被发现, 并被迫采取修改RTL来暂时解决. DA CFAR为了坚持DBF而不支持多向底噪, 也没任何灵活性可言.

* [Ricky]硬件设计, 除了软件逻辑独立性拆分模块, 还要根据面积拆分模块. 面积小的模块, 应该实例化多份而非调用. 这天然地要求OOP, 我们有多少人掌握OOP的? (OOP两例: decorator mode for chirp config variance; strategy mode for flow step substitution)

* 关于CFAR, Ricky带着我们提出了不少新观点, 很多是和过去的做法完全矛盾的. 其中关于滑窗CFAR与非滑窗CFAR的问题, 嘉澍在会上提了个意见. 我们不少客户是用滑窗CFAR的, 而且之前试图做过比较, 结论是不能证明系统性优势. 关于这点, 现在想到几条论据: 首先, 非滑窗CFAR本就不该对滑窗CFAR有系统性优势, 二者在绝大部分情况下, 只是对同一统计模型的不同独立随机采样, 性能确实应当一致. 非滑窗的优势在于更小的面积和更简单的设计验证过程. 其次, 我们过去的客户当然用滑窗, 因为他们全部是在RD平面而非DA平面内做CFAR, 这个论据不成立. 第三, 嘉澍过去私下曾经评价国内客户"除了华为没一个懂的". 如果是这样, 那么更应该证明, 我们不应该承担客户方案的历史负担, 而应该反过来, 推动客户采用我们的方案, 甚至某种程度上以客户的"研发资源"(事实上主要是测试)为己用.

**20220805**

* 技术负债, 昨天已经讨论得比较全面了.

* 经历了一个项目, 我们的团队是否更清晰地认识到自己的目标, 问题, 以及能力? 我们是否能够以更高的效率, 更清晰地达成一致? 不同技术团队之间是否能够更顺畅地交流? 

* 当初觉得嘉澍找来Ricky平息system组内不靖是十分符合他身份的做法; Ricky来了之后也是高举高打从不经手既往项目的任何细节. 现在觉得大人物们各打各的, 我倒要类似. M0验证进度不足十分之一, 硬件设计不完整, 软件负担太大; 嘉澍的看法仍然是坚持原有计划. 不调整也好, 我只需要执行, 不需要在这个项目让赔上做任何决定的责任.

* 以及, 每次找嘉澍他都不像很忙的样子, 不是很明白他每天都在考虑什么问题, 解决什么问题.

* 同刘指导聊到CFAR的问题, 他长期同客户接触, 是更倾向于采用头部客户方案的, 但是当时没有争过"他们", 不知道除了朱砚是否还包括原来的AE团队.

* 我现在差不多逢人便说system两年没有规模扩张的事. 是岗位描述不合理? 消息投放不准确? 门槛过高? 面试质量不够? 薪酬没有吸引力? 而且, 从一个十人团队转换为一个二十人团队, 工作模式或许也会有进一步的分化, 至少这种动辄全员听Ricky讲课一天的做法, 人多了以后不能再是常态.

* Ricky的工作方法似乎就是如此: 结合他十分丰富的经验, 多使用逻辑分析, 只在必要的时候才量化. 他身上和我们过往工作模式不同的地方非常多, 并且没有表现出太多改变的意愿. 

**20220808**

毫米波雷达芯片; 价值, 客户, (合作方), (供应商), (员工), (监管), 竞争, 替代技术

**价值**
(增补: 传感器-空间位置传感器)

毫米波雷达可以提供主动传感(versus合作传感) + 非接触传感 + 多普勒信息. 汽车作为移动平台要求这三条. 其中前两条激光雷达和视觉也可以, 毫米波能留在这个游戏里, 我理解其实主要靠第三条. 工业上, 毫米波雷达作为一个传感器, 多普勒有什么价值? 还能提供哪些价值? 隐私安全? 低功耗? 价格?

(增补: 传感器一定要和下游的某种分析决策结合起来, 是什么分析决策呢?)

**客户**

* 2B, 除了汽车/交通/监控, 还有什么整体机会? 生产场景下, 可能绝大部分都可以用合作式传感, laser tag什么的.

* 2G, 这个不是我们决定得了的吧...

* 2C, 回到家电/消费电子. 消费电子有什么需求和机会?

* 家电, 我们已知的:

    * 跟踪: 比较一下车辆场景和我们目前提出的居家场景: 目标速度更小, 运动轨迹更复杂, 加速度更大更复杂, 目标尺寸在场景尺寸中占比更大, 所以多普勒信号小, 多普勒的非线性更强, 毫米波雷达的主要优势多普勒在被削弱. (之前对我们制约比较大的多径问题, 可能可以通过天线+解角+RA CFAR+Subarray+Tensor product等技术组合解决).

    * 呼吸心率: 微多普勒, 这个原理相对清晰一些, 老早之前攒了个demo; 但我们做完全的非合作传感可能很困难(移动人体测呼吸). 移动下的非刚体微多普勒, 非线性太多了.
https://jpfustc.github.io/src/professional/openday/pg1.html

    * 雷达成像: 同样, 原理相对清晰, 时间不好说.

    * 姿态/手势: 这两个方向, 按照现在的做法, 核心价值不是传感器提供的, 是AI提供的. 即便用雷达做传感器, 但吃大头的, 决定发展进度和上限的也还是AI. 而且人家也不依赖毫米波, 用UWB, WIFI, 24G做的都有. 除了波段, 雷达的一系列基础信号方案, FMCW波形, CPI结构, 对于AI可能都不见得是正面贡献. 反过来说我们和应用公司合作, 也会抱怨人家不懂雷达. 总的来说现在的做法技术链长又没有清晰的接口, 加上下游又不见得真懂, 比较麻烦. 如果以后基于高质量成像来做姿态和手势, 可能更靠谱一些. (屏下指纹/红光心率血氧等消费电子或许也涉及到AI/ML. 但是专门性强, 而且是接触+合作传感, 我理解难度差很大)

**合作方**

**竞争**

* TI/英飞凌/NXP. 他们的方案都有什么特点? 关注什么? 他们对需求和市场的判断是什么?
* 国内新厂? 这个会不会反倒是对节奏影响最大的. 我们目前在60G领域还没有建立起77G级别的先发优势. 但是新厂可能也不好出货. 从这个角度说不管作出什么效果, 先搞低价方案挤死对手可能是更重要的?
* (增补: 归根到底还是要回到价值)

**替代技术**

* (空间位置传感器)
* (他们替代我们, 我们也替代他们)
* 主动的: 激光雷达/视觉/红外/UWB
* 合作的: RFID/laser tag/还有啥

**20220812**

* "Cmodel质量太差", 今天谈起M0验证时直接这样陈述. 上周提醒嘉澍M0目前验证进度不足10%, 嘉澍的意见是奕平和珉楠会评估进度表. 那就是不用我负责. 这个进度表6月会上弈平开始提, 至今从来没有出现过. 如今随着验证逐渐深入, Cmodel的质量问题确实暴露出来, 嘉澍的建议是跟朱砚加强沟通. 他也无法做出更具体的指导,

* 不是没有沟通过. 7月12号晚发出关于CCMB寄存器的邮件, 7月14号早10点回复. "Cmodel没有和RTL完全对应, 所以没办法提供寄存器配置, 请RTL根据Cmodel配置自行推导." 事实上也确实是这么干的, 只能这么干: Cmodel根据RTL的要求反过来增加打印, 大倪在这部分上前后花了两周核对. 再遇到Tensor product的问题时便没有再问. 嘉澍说跟朱砚沟通下来, "可能是当初的设计我们没有理解".

* 要说明Cmodel质量差其实非常容易. 代码质量和维护上, 两个维度的FFT, 三种SVA和三种BITC全部搅合在一个大函数里, 还要提前输出给BWE, 后者自己做了一个2D FFT和SVA. FFT2D::coreRun函数超过500行过不了规范检查, 是我去年12月30号改的, 其中杂糅了两个FFT, 三个SVA和三个BITC的过程; 当时我的建议是把这些内容单独拆分, 没有得到采纳. BWE从FFT中截取了一段数据流, 自己再实现一遍BITC+FFT+SVA. 这一点我是6月15号提出的, 同样决定是等到Andes TO再说.

* 功能设计不合理的地方, FFT complex weighting/mag square/STFT三个功能没有清晰的应用. CFAR四重奏导致的灾难性复杂度, 最简单的NR CFAR为了兼容前者十分尴尬. 为了延时满足要求使用两种CFAR, 一种为了满足sliding window又选用了不同数据格式, 前述FFT mag square output不能兼容, 基本废弃. BWE是实现复杂度最高延时最长的功能, 但有限性能提升和极高的SNR门槛十分尴尬.

* 公平地讲, 人员素质和项目并行可能是导致上述问题的重要原因. DA CFAR不能支持DDM full coherent combine, 这个可能是对性能最致命的, 令我们损失了几个dB的信噪比. 

* 我不是为了黑朱砚而记录这些内容的. 朱砚一直以来对我非常好, 他开发第一代SOC的结果在我看来很成功, 而且恰恰他所强调的前后追溯的工作方法, 让我能够提出Andes上存在的问题. 我其实也一直试图指出其他同事工作中的问题, 并尝试做出建议, 得到的积极反馈寥寥. 现在看来Ricky会有最成熟完整的解决方案. 如果没有朱砚为公司打下的基础, Ricky的知识是买也买不到的.

* 小龙说Andes是嘉澍的Dream product, 我现在这样批评Andes也不知道会不会招致他的恶感. 顾不上了.

**20220813**

* 今天听了B站"产品老曾"的一个片段, 谈面试造火箭入职拧螺丝. 拧螺丝是一种保护, 简单项目快速上手, 对个人的意义打过对公司的意义. 朱砚当时给我布置的任务, 就是一个拧螺丝式的最小闭环, "麻雀虽小五脏俱全". 今天看来我仍然没有改变观点, 这个项目的实用意义十分有限, 但反倒更证明了他对我的安排是很优待的.

* 嘉澍说多找朱砚沟通, 未尝不是另一种保护. 项目不能达成目标, 没有哪一个人能负得起所有责任, 我一个新兵蛋子尤其够呛. 就算同朱砚加强沟通不能解决太多问题, 起码也是形式上必要的努力, 把我担风险的可能性降到最低.

* 之前听李想的雪球路演, "传统车企这么多年竞争都是无效竞争, 你出一个车型我必须要跟, 这么多年竞争你告诉我谁把谁打死了". 十分经典. 我们目前的竞争是有效的吗?
